---
title: Comark
description: Complete guide for writing Comark (Components in Markdown) documents with full syntax reference.
---

## Standard Markdown

Comark supports all standard CommonMark and GitHub Flavored Markdown (GFM) features.

### Headings

```mdc
# Heading 1
## Heading 2
### Heading 3
#### Heading 4
##### Heading 5
###### Heading 6
```

All headings automatically get ID attributes generated from their content for linking:

```mdc
# Hello World
<!-- Becomes: <h1 id="hello-world">Hello World</h1> -->
```

### Text Formatting

```mdc
**Bold text**
*Italic text*
***Bold and italic***
~~Strikethrough~~
`Inline code`
```

**Renders as:**
- **Bold text**
- *Italic text*
- ***Bold and italic***
- ~~Strikethrough~~
- `Inline code`


::note
Text nodes in Comark are simple strings, similar to HTML text nodes. To add custom styles, attributes, or metadata to specific parts of text, use the [Comark Span](#span-attributes) syntax.

```mdc
Hello [world]{data-world="earth" style="color: blue"}
```

This creates a `<span>` element with custom attributes, allowing you to style or add metadata to inline text.
::

### Lists

::code-group

```mdc [Unordered]
- Item 1
- Item 2
  - Nested item
  - Another nested item
- Item 3
```

```mdc [Ordered]
1. First item
2. Second item
   1. Nested item
   2. Another nested item
3. Third item
```

::

### Links and Images

```mdc
[Link text](https://example.com)
[Link with title](https://example.com "Link title")
![Image alt text](https://example.com/image.png)
![Image with title](https://example.com/image.png "Image title")
```

### Blockquotes

```mdc
> This is a blockquote
> It can span multiple lines
>
> And contain other markdown elements like **bold** and *italic*
```

**Renders as:**

> This is a blockquote
> It can span multiple lines
>
> And contain other markdown elements like **bold** and *italic*

### Horizontal Rules

Any of these create a horizontal rule:

```mdc
---
***
___
```

---

## Frontmatter

Comark supports YAML frontmatter at the beginning of documents:

```mdc
---
title: My Document Title
author: John Doe
date: 2024-01-15
tags:
  - markdown
  - documentation
depth: 3
searchDepth: 2
custom_field: custom value
---

# Document Content

Your markdown content here...
```

### Features

- Must be at the very beginning of the document
- Enclosed by `---` delimiters
- Parsed as YAML
- Available in the `frontmatter` property of ComarkTree

### Special Fields

| Field | Description | Default |
|-------|-------------|---------|
| `title` | Used in table of contents generation | - |
| `depth` | Maximum heading level for TOC | `2` |
| `searchDepth` | Depth for TOC search | `2` |

### Example Usage

```typescript
import { parse } from 'comark'

const content = `---
title: My Article
author: Jane Doe
depth: 3
---

# Introduction
Content here...
`

const result = await parse(content)
console.log(result.frontmatter)
// { title: 'My Article', author: 'Jane Doe', depth: 3 }
```

---

## Comark Components

Comark (Components in Markdown) extends standard markdown with custom component syntax while maintaining readability.

### Block Components

Block components use the `::component-name` syntax:

```mdc
::component-name{prop1="value1" prop2="value2"}
Content inside the component

Can have **markdown** and other elements
::
```

#### Examples

::code-group

```mdc [Alert]
::alert{type="info"}
This is an important message!
::
```

```mdc [Card]
::card{title="My Card"}
Card content with **markdown** support
::
```

```mdc [Empty Component]
::divider
::
```

::

### Inline Components

Inline components use the `:component-name` syntax and can be placed within text:

```mdc
Check out this :icon-star component in the middle of text.

Click the :button[Submit]{type="primary"} to continue.

The status is :badge[Active]{color="green"} right now.
```

**Syntax variations:**

| Syntax | Description |
|--------|-------------|
| `:icon-check` | Standalone inline component |
| `:badge[New]` | Inline component with content |
| `:badge[New]{color="blue"}` | Inline component with content and properties |
| `:tooltip{text="Hover text"}` | Inline component with properties only |

### Component Properties

Components support two property syntaxes: inline attributes and YAML frontmatter.

#### Inline Attributes

Standard inline property syntax using `{...}`:

```mdc
::component{prop="value"}
<!-- Standard key-value pair -->
::

::component{bool}
<!-- Boolean property (becomes :bool="true" in AST) -->
::

::component{#custom-id}
<!-- ID attribute -->
::

::component{.class-name}
<!-- CSS class -->
::

::component{.class-one .class-two}
<!-- Multiple CSS classes -->
::

::component{obj='{"key": "value"}'}
<!-- Object/JSON value -->
::

::component{arr='["item1", "item2"]'}
<!-- Array/JSON value -->
::

::component{multiple="props" bool #id .class}
<!-- Multiple properties combined -->
::
```

#### YAML Frontmatter Props

For complex components with many properties, you can use YAML frontmatter syntax inside the component:

```mdc
::component
---
title: My Component
type: info
count: 42
enabled: true
items:
  - First item
  - Second item
  - Third item
config:
  theme: dark
  mode: auto
---
Component content goes here

With full **markdown** support
::
```

**Features:**

- Must be at the very beginning of the component content
- Enclosed by `---` delimiters
- Parsed as YAML (supports all YAML data types)
- Merged with inline attributes (inline attributes take precedence)
- Full support for complex data structures (objects, arrays, nested data)

**Complex data types in AST:**

Objects and arrays defined in YAML are preserved as structured data in the AST:

```mdc
::component
---
attr: value
object-attr:
  key1: value1
  key2: value2
array:
  - item 1
  - item 2
---
First Paragraph

Second Paragraph
::
```

Produces the following AST:

```json
{
  "nodes": [
    [
      "component",
      {
        "attr": "value",
        "object-attr": {
          "key1": "value1",
          "key2": "value2"
        },
        "array": [
          "item 1",
          "item 2"
        ]
      },
      ["p", {}, "First Paragraph"],
      ["p", {}, "Second Paragraph"]
    ]
  ],
  "frontmatter": {},
  "meta": {}
}
```

This means your components receive fully typed props â€” objects remain objects, arrays remain arrays, and numbers/booleans are parsed as their respective types rather than strings.

**Example with both syntaxes:**

```mdc
::card{.featured}
---
title: Featured Article
author: Jane Doe
date: 2024-01-15
tags:
  - markdown
  - documentation
metadata:
  views: 1234
  likes: 89
---
This combines inline class `.featured` with YAML props
::
```

#### YAML Props Use Cases

**1. Configuration-Heavy Components:**

```mdc
::data-table
---
columns:
  - name: Name
    field: name
    sortable: true
  - name: Email
    field: email
    sortable: true
  - name: Status
    field: status
    sortable: false
options:
  striped: true
  hoverable: true
  pageSize: 10
---
Table content or data here
::
```

**2. Form Components:**

```mdc
::form
---
action: /api/submit
method: POST
fields:
  - type: text
    name: username
    label: Username
    required: true
  - type: email
    name: email
    label: Email Address
    required: true
  - type: password
    name: password
    label: Password
    required: true
    minLength: 8
submitButton:
  text: Sign Up
  color: primary
---
Additional form instructions or content
::
```

**3. Chart/Visualization Components:**

```mdc
::chart
---
type: line
title: Monthly Revenue
data:
  labels:
    - Jan
    - Feb
    - Mar
    - Apr
  datasets:
    - label: 2024
      data: [12, 19, 3, 5]
      borderColor: rgb(75, 192, 192)
    - label: 2023
      data: [10, 15, 8, 12]
      borderColor: rgb(255, 99, 132)
options:
  responsive: true
  maintainAspectRatio: false
---
::
```

**4. API Documentation Components:**

```mdc
::api-endpoint
---
method: POST
path: /api/users
description: Create a new user
parameters:
  - name: username
    type: string
    required: true
    description: Unique username for the user
  - name: email
    type: string
    required: true
    description: User's email address
  - name: role
    type: string
    required: false
    default: user
    enum:
      - admin
      - user
      - guest
response:
  status: 201
  body:
    id: string
    username: string
    email: string
    createdAt: datetime
---
### Usage Example

```typescript
const response = await fetch('/api/users', {
  method: 'POST',
  body: JSON.stringify({ username: 'john', email: 'john@example.com' })
})
` + '```' + `
::
```

**5. Complex Card with Metadata:**

```mdc
::article-card
---
title: Understanding React Hooks
author:
  name: Jane Doe
  avatar: /avatars/jane.jpg
  url: /authors/jane-doe
publishedDate: 2024-01-15
updatedDate: 2024-01-20
tags:
  - React
  - Hooks
  - JavaScript
readTime: 5 min
difficulty: intermediate
seo:
  description: A comprehensive guide to React Hooks
  keywords:
    - react hooks
    - useState
    - useEffect
---
A comprehensive guide to understanding and using React Hooks effectively in your applications.
::
```

### Component Slots

Block components support named slots using the `#slot-name` syntax:

```mdc
::card
#header
## Card Title

#content
This is the main content of the card

#footer
Footer text here
::
```

#### Combining YAML Props with Slots

You can use both YAML frontmatter props and named slots in the same component:

```mdc
::card{.featured}
---
variant: elevated
color: primary
actions:
  - label: Read More
    url: /article
  - label: Share
    icon: share
---
#header
## Article Title
*By Jane Doe*

#content
This is the main article content with **markdown** support.

#footer
Published on January 15, 2024
::
```

**Important:** When using YAML props with slots, the YAML frontmatter must come immediately after the opening `::component` line, before any slot definitions.

**Correct order:**
```mdc
::component{inline-attrs}
---
yaml: props
---
#slot-name
Slot content
::
```

**Incorrect order:**
```mdc
::component
#slot-name
Slot content
---
yaml: props  <!-- âŒ This won't work -->
---
::
```

**AST Output (without props):**

```json
{
  "nodes": [
    [
      "card",
      {},
      [
        "template",
        { "name": "header" },
        ["h2", {}, "Card Title"]
      ],
      [
        "template",
        { "name": "content" },
        ["p", {}, "This is the main content of the card"]
      ],
      [
        "template",
        { "name": "footer" },
        ["p", {}, "Footer text here"]
      ]
    ]
  ],
  "frontmatter": {},
  "meta": {}
}
```

**AST Output (with YAML props and inline attrs):**

For this component:
```mdc
::card{.featured}
---
variant: elevated
count: 5
items:
  - one
  - two
---
#header
Title
::
```

The AST includes all properties in the second element:

```json
{
  "nodes": [
    [
      "card",
      {
        "class": "featured",
        "variant": "elevated",
        "count": 5,
        "items": ["one", "two"]
      },
      [
        "template",
        { "name": "header" },
        ["p", {}, "Title"]
      ]
    ]
  ],
  "frontmatter": {},
  "meta": {}
}
```

### Nested Components

Components can be nested within each other using additional colons:

```mdc
::outer-component
Content in outer

:::inner-component{variant="compact"}
Content in inner
:::

More content in outer
::
```

**Deep nesting:**

```mdc
::level-1
  :::level-2
    ::::level-3
    Content
    ::::
  :::
::
```

Note that adding extra colons is not required, but it is a good practice to keep the nesting consistent.

This will also work:

```mdc
::level-1
  ::level-2
    ::level-3
    Content
    ::
  ::
::
```

---

## Attributes

Comark allows adding custom attributes to native markdown elements using `{...}` syntax after the element.

### Strong/Bold Attributes

```mdc
**bold text**{.highlight #important}
**bold text**{data-value="custom"}
**bold text**{bool}
```

### Italic/Emphasis Attributes

```mdc
*italic text*{.emphasized}
_italic text_{#custom-id}
```

### Link Attributes

```mdc
[Link text](url){target="_blank" rel="noopener"}
[Link text](url){.button .primary}
[External](https://example.com){target="_blank" .external-link}
```

### Image Attributes

```mdc
![Alt text](image.png){.responsive width="800" height="600"}
![Logo](logo.svg){.logo #site-logo}
```

### Inline Code Attributes

```mdc
`code snippet`{.language-js}
`variable`{data-type="string"}
```

### Span Attributes

Comark Span syntax allows you to wrap inline text in a `<span>` element with custom attributes. This is useful for styling specific parts of text or adding metadata without using custom components.

#### Basic Span Syntax

```mdc
[text content]{attributes}
```

The span syntax wraps the text in square brackets `[...]` followed by attributes in curly braces `{...}`.

#### Examples

**Basic span with class:**

```mdc
This is [highlighted text]{.highlight} in a paragraph.
```

**Output:**
```html
<p>This is <span class="highlight">highlighted text</span> in a paragraph.</p>
```

**Span with multiple classes:**

```mdc
[Important]{.badge .primary} information here.
```

**Output:**
```html
<p><span class="badge primary">Important</span> information here.</p>
```

**Span with ID:**

```mdc
Reference this [specific text]{#ref-1} later.
```

**Output:**
```html
<p>Reference this <span id="ref-1">specific text</span> later.</p>
```

**Span with inline styles:**

```mdc
[Blue text]{style="color: blue; font-weight: bold"}
```

**Output:**
```html
<p><span style="color: blue; font-weight: bold">Blue text</span></p>
```

**Span with data attributes:**

```mdc
[Earth]{data-planet="earth" data-type="terrestrial"}
```

**Output:**
```html
<p><span data-planet="earth" data-type="terrestrial">Earth</span></p>
```

**Combining multiple attributes:**

```mdc
[Status: Active]{#status .badge .success data-state="active"}
```

**Output:**
```html
<p><span id="status" class="badge success" data-state="active">Status: Active</span></p>
```

#### Use Cases

1. **Highlighting specific terms:**
   ```mdc
   The [API endpoint]{.code .highlight} returns JSON data.
   ```

2. **Adding tooltips:**
   ```mdc
   Hover over [this text]{title="Additional information"} for more details.
   ```

3. **Styling with utility classes:**
   ```mdc
   [Warning]{.text-red-500 .font-bold}: System maintenance in progress.
   ```

4. **Adding metadata for JavaScript:**
   ```mdc
   Click [here]{data-action="open-modal" data-target="login"} to sign in.
   ```

5. **Accessibility attributes:**
   ```mdc
   [Important]{role="alert" aria-label="Critical notice"} security update available.
   ```

#### AST Output

For this span:
```mdc
[Hello world]{.greeting style="color: blue"}
```

The AST output is:
```json
{
  "nodes": [
    ["p", {},
      ["span", {
        "class": "greeting",
        "style": "color: blue"
      }, "Hello world"]
    ]
  ],
  "frontmatter": {},
  "meta": {}
}
```

#### Nested Markdown

Span syntax supports nested markdown formatting:

```mdc
[**Bold** and *italic* text]{.highlight}
```

**Output:**
```html
<p><span class="highlight"><strong>Bold</strong> and <em>italic</em> text</span></p>
```

#### Notes

- Spans create `<span>` HTML elements
- All standard HTML attributes are supported
- Spans work within any paragraph or inline context
- Spans can contain nested markdown formatting
- For block-level customization, use [Comark Components](#comark-components)

### Attribute Types Summary

| Syntax | Output | Description |
|--------|--------|-------------|
| `{bool}` | `:bool="true"` | Boolean attribute |
| `{#my-id}` | `id="my-id"` | ID attribute |
| `{.my-class}` | `class="my-class"` | Class attribute |
| `{key="value"}` | `key="value"` | Key-value attribute |
| `{:data='{"key": "val"}'}` | `data={"key": "val"}` | JSON object attribute |

---

## Comments

HTML-style comments are supported in Comark and are preserved in the AST but not rendered in the output.

### Syntax

```mdc
<!-- This is a comment -->
```

Comments can span multiple lines:

```mdc
<!--
This is a multi-line comment
that can contain any text
-->
```

### Examples

**Inline comment:**

```mdc
This is text <!-- inline comment --> with more text.
```

**Block comment:**

```mdc
<!--
TODO: Update this section
Author: John Doe
Date: 2024-01-15
-->

# Section Title
```

**Comment between elements:**

```mdc
## First Section

<!-- Separator comment -->

## Second Section
```

### AST Representation

Comments are represented in the AST as a tuple with `null` as the tag:

```json
[null, {}, " comment text "]
```

**Example:**

```mdc
Text before <!-- my comment --> text after
```

**AST:**

```json
{
  "nodes": [
    ["p", {},
      "Text before ",
      [null, {}, " my comment "],
      " text after"
    ]
  ],
  "frontmatter": {},
  "meta": {}
}
```

### Use Cases

1. **Documentation notes:**
   ```mdc
   <!-- Internal note: This section needs review -->
   ```

2. **Conditional content markers:**
   ```mdc
   <!-- BEGIN: Product features -->
   - Feature 1
   - Feature 2
   <!-- END: Product features -->
   ```

3. **Metadata for processing:**
   ```mdc
   <!-- category: tutorial -->
   <!-- tags: advanced, performance -->
   ```

4. **Template placeholders:**
   ```mdc
   <!-- INJECT: table-of-contents -->
   ```

### Notes

- Comments are preserved in the AST structure
- Comments are not rendered in HTML or other output formats
- Comments can appear anywhere in the document
- Nested comments are not supported (standard HTML behavior)

---

## Code Blocks

Comark provides advanced code block features with metadata support.

### Basic Code Block

````mdc
```javascript
function hello() {
  console.log("Hello, World!")
}
```
````

### Language with Syntax Highlighting

````mdc
```typescript
interface User {
  name: string
  age: number
}
```
````

### Filename Metadata

Add a filename using `[...]` brackets:

````mdc
```javascript [server.js]
const express = require('express')
const app = express()
```
````

### Line Highlighting

Highlight specific lines using `{...}` syntax:

````mdc
```javascript {1-3,5}
function example() {
  const a = 1  // Lines 1-3 highlighted
  const b = 2
  const c = 3
  return a + b + c  // Line 5 highlighted
}
```
````

**Highlighting syntax:**

| Syntax | Description |
|--------|-------------|
| `{3}` | Single line |
| `{1-5}` | Range of lines |
| `{1,3,5}` | Multiple specific lines |
| `{1-3,7,10-12}` | Combined ranges and lines |

### Combined Metadata

All metadata can be combined in any order:

````mdc
```javascript {1-3} [utils.ts] meta=value
function hello() {
  console.log("Hello")
}
```
````

### Special Characters in Filename

Use backslash to escape special characters:

````mdc
```typescript [@[...slug\].ts]
// Brackets and special chars are supported
// Backslash escapes special characters
```
````

### AST Structure

Code blocks produce this AST structure:

```json
{
  "nodes": [
    [
      "pre",
      {
        "language": "javascript",
        "filename": "server.js",
        "highlights": [1, 2, 3],
        "meta": "meta=value"
      },
      [
        "code",
        { "class": "language-javascript" },
        "code content here"
      ]
    ]
  ],
  "frontmatter": {},
  "meta": {}
}
```

---

## Task Lists

Comark supports GitHub Flavored Markdown task lists:

```mdc
- [x] Completed task
- [ ] Pending task
- [x] Another completed task
  - [ ] Nested pending task
  - [x] Nested completed task
```

**Renders as:**

- [x] Completed task
- [ ] Pending task
- [x] Another completed task
  - [ ] Nested pending task
  - [x] Nested completed task

### Features

- `[x]` or `[X]` for completed tasks
- `[ ]` for pending tasks
- Works in both ordered and unordered lists
- Supports nesting

### HTML Output

```html
<ul class="contains-task-list">
  <li class="task-list-item">
    <input type="checkbox" disabled checked class="task-list-item-checkbox">
    Completed task
  </li>
  <li class="task-list-item">
    <input type="checkbox" disabled class="task-list-item-checkbox">
    Pending task
  </li>
</ul>
```

---

## Tables

Comark supports GitHub Flavored Markdown tables:

```mdc
| Header 1 | Header 2 | Header 3 |
| -------- | -------- | -------- |
| Cell 1   | Cell 2   | Cell 3   |
| Cell 4   | Cell 5   | Cell 6   |
```

### Aligned Tables

```mdc
| Left Aligned | Center Aligned | Right Aligned |
| :----------- | :------------: | ------------: |
| Left         | Center         | Right         |
| Text         | Text           | Text          |
```

**Alignment syntax:**

| Syntax | Alignment |
|--------|-----------|
| `:---` | Left |
| `:---:` | Center |
| `---:` | Right |

### Inline Markdown in Tables

Tables support inline markdown:

```mdc
| Feature      | Status          | Link                    |
| ------------ | --------------- | ----------------------- |
| **Bold**     | *Italic*        | [Link](https://example) |
| `Code`       | ~~Strike~~      | ![Image](img.png)       |
```

---

## Emojis

Comark includes built-in emoji support using the `:emoji_name:` syntax.

### Basic Usage

```mdc
Hello :wave: Welcome to our docs! :rocket:
```

**Renders as:**

Hello ðŸ‘‹ Welcome to our docs! ðŸš€

### Popular Emojis

```mdc
:smile: :heart: :fire: :rocket: :sparkles: :tada:
:thinking: :eyes: :100: :star: :zap: :bulb: :warning:
```

:smile: :heart: :fire: :rocket: :sparkles: :tada: :thinking: :eyes: :100: :star: :zap: :bulb: :warning:

### Common Examples

```mdc
<!-- Reactions & Emotions -->
:smile: :joy: :heart_eyes: :thinking: :tada:

<!-- Actions & Gestures -->
:wave: :clap: :pray: :muscle:

<!-- Objects & Symbols -->
:rocket: :fire: :star: :sparkles: :bulb: :lock: :key:

<!-- Status & Marks -->
:white_check_mark: :x: :warning: :question: :exclamation:

<!-- Nature & Food -->
:sunny: :tree: :pizza: :coffee: :apple:
```

### Usage in Components

```mdc
::alert{type="success"}
:white_check_mark: Successfully deployed! :rocket:
::

::alert{type="warning"}
:warning: Please backup your data before proceeding
::
```

---

## See Also

- [Summary Plugin](/plugins/summary) - Extract content summaries with `<!-- more -->`
- [Parse API](/api/parse) - Parsing markdown content
- [Auto-Close API](/api/auto-close) - Handling incomplete syntax
- [Comark AST](/syntax/comark-ast) - AST format reference
- [Vue Renderer](/rendering/vue) - Rendering in Vue
- [React Renderer](/rendering/react) - Rendering in React
